{% extends 'mailing/base.html' %}
{% block title %}Список моих сообщений{% endblock %}
{% block content %}
<h2 class="mt-2 text-center">Список моих сообщений</h2>
<div class="album py-5 bg-body-tertiary">
    <div class="container">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-2 g-4 text-center">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">№</th>
                    <th scope="col">Заголовок</th>
                    <th scope="col">Сообщение</th>
                    <th scope="col">Детали</th>
                </tr>
                </thead>
                <tbody>
                {% for message in object_list %}
                <tr>
                    <th scope="row">{{ message.id }}</th>
                    <td>{{ message.topic }}</td>
                    <td>{{ message.text | truncatechars:200 }}</td>
                    <td><a class="link" href="{% url 'mailing:message_detail' message.pk %}">Подробнее</a></td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center">Нет сообщений для отображения.</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
            <div class="col">
                <div class="card shadow-sm">
                    <a class="btn btn-primary" href="{% url 'mailing:message_info' %}" role="button">Назад</a>
                </div>
            </div>
            <div class="col">
                <div class="card shadow-sm">
                    <a class="btn btn-primary" href="{% url 'mailing:home' %}" role="button">На главную</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
